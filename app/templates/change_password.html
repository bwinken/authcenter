{% extends "base.html" %}
{% block title %}修改密碼 - AuthCenter{% endblock %}
{% block content %}
{% if staff_id %}
<p class="subtitle" style="margin-bottom: 24px;">員工編號 <strong>{{ staff_id }}</strong>，修改您的密碼。</p>
{% endif %}

{% if error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

{% if success %}
<div class="alert alert-success">密碼修改成功！新密碼將在下次登入時生效。</div>
{% elif staff_id %}
<form method="POST" action="/auth/change-password">
    <div class="form-group">
        <label for="old_password">目前密碼</label>
        <input type="password" id="old_password" name="old_password" placeholder="請輸入目前密碼" required>
    </div>

    <div class="form-group">
        <label for="new_password">新密碼</label>
        <input type="password" id="new_password" name="new_password" placeholder="至少 8 個字元" required minlength="8">
    </div>

    <div class="form-group">
        <label for="confirm_password">確認新密碼</label>
        <input type="password" id="confirm_password" name="confirm_password" placeholder="再次輸入新密碼" required minlength="8">
    </div>

    <button type="submit" class="btn btn-primary">修改密碼</button>
</form>
{% endif %}
{% endblock %}

{% block links %}
<a href="javascript:history.back()">返回</a>
{% endblock %}
