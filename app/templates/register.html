{% extends "base.html" %}
{% block title %}設定密碼 - AuthCenter{% endblock %}
{% block content %}
{% if staff_id %}
<p class="subtitle" style="margin-bottom: 24px;">員工編號 <strong>{{ staff_id }}</strong>，首次登入請設定密碼。</p>
{% endif %}

{% if error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

{% if success %}
<div class="alert alert-success">帳號建立成功！請返回登入頁面。</div>
{% elif token %}
<form method="POST" action="/auth/register">
    <input type="hidden" name="staff_id" value="{{ staff_id }}">
    <input type="hidden" name="token" value="{{ token }}">

    <div class="form-group">
        <label for="password">設定密碼</label>
        <input type="password" id="password" name="password" placeholder="至少 8 個字元" required minlength="8">
    </div>

    <div class="form-group">
        <label for="confirm_password">確認密碼</label>
        <input type="password" id="confirm_password" name="confirm_password" placeholder="再次輸入密碼" required minlength="8">
    </div>

    <button type="submit" class="btn btn-primary">建立帳號</button>
</form>
{% endif %}
{% endblock %}

{% block links %}
<a href="javascript:history.back()">返回登入</a>
{% endblock %}
