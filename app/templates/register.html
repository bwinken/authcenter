{% extends "base.html" %}
{% block title %}註冊 - Auth Center{% endblock %}
{% block content %}
<div class="logo">&#128221;</div>
<h1>設定密碼</h1>
<p class="subtitle">員工編號: {{ staff_id }}，首次登入請設定密碼。</p>

{% if error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

{% if success %}
<div class="alert alert-success">帳號建立成功！請返回登入頁面。</div>
{% else %}
<form method="POST" action="/auth/register">
    <input type="hidden" name="staff_id" value="{{ staff_id }}">
    <input type="hidden" name="app_id" value="{{ app_id }}">
    <input type="hidden" name="redirect_uri" value="{{ redirect_uri }}">

    <div class="form-group">
        <label for="password">設定密碼</label>
        <input type="password" id="password" name="password" placeholder="至少 8 個字元" required minlength="8">
    </div>

    <div class="form-group">
        <label for="confirm_password">確認密碼</label>
        <input type="password" id="confirm_password" name="confirm_password" placeholder="再次輸入密碼" required minlength="8">
    </div>

    <button type="submit" class="btn btn-primary">建立帳號</button>
</form>
{% endif %}

<div class="links">
    {% if app_id and redirect_uri %}
    <a href="/auth/login?app_id={{ app_id }}&redirect_uri={{ redirect_uri }}">返回登入</a>
    {% endif %}
</div>
{% endblock %}
